
<div ng-controller="BlogCtrl" class="well">
	<div class="page-header">
		<h1>{{blogName}}</h1>
	</div>
	<div class="well">
        <h3>Posts:</h3>
        <nav class="navbar navbar-default">
  			<div class="container-fluid">
  				<div class="navbar-header navbar-left">
  					<button type="button" class="btn btn-default navbar-btn" ng-show="page > 1" ng-click="goPrevPage()">Prev Page</button>
  				</div>
  				<div class="navbar-header navbar-right">
  					<button type="button" class="btn btn-default navbar-btn" ng-click="goNextPage()">Next Page</button>
        		</div>
  			</div>
  		</nav>
		<div ng-repeat="post in blog.postList" class="well">
			<div>
				<span><i>{{post.id}}</i> <b>{{post.subject}}</b></span>
			</div>
			<br>
			<div>{{post.description}} (<a  ng-href="" ng-click="goPost(post.id)" style="cursor: pointer;">Full article...</a>)</div>
		</div>
		<nav class="navbar navbar-default">
  			<div class="container-fluid">
  				<div class="navbar-header navbar-left">
  					<button type="button" class="btn btn-default navbar-btn" ng-show="page > 1" ng-click="goPrevPage()">Prev Page</button>
  				</div>
  				<div class="navbar-header navbar-right">
  					<button type="button" class="btn btn-default navbar-btn" ng-click="goNextPage()">Next Page</button>
        		</div>
  			</div>
  		</nav>
	</div>
	
	<div class="well">
        <h3>Add New Post</h3>
    </div>
	<form class="form-horizontal" name="addPostForm" novalidate ng-submit="addPost(newPost)">
        <!-- Subject -->
        <div class="form-group" ng-class="getValidationClass(addPostForm.subject.$valid, addPostForm.subject.$dirty)">
            <label class="control-label col-sm-2" for="subject">Subject:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="subject" name="subject" maxlength="100" aria-describedby="subjectStatus" placeholder="Subject" required ng-model="newPost.subject" />
	            <span ng-show="addPostForm.subject.$dirty"
	                ng-class="addPostForm.subject.$valid ? 'glyphicon glyphicon-ok form-control-feedback' : 'glyphicon glyphicon-remove form-control-feedback'" aria-hidden="true"></span>
	            <span ng-show="addPostForm.subject.$dirty" id="subjectStatus"
	                class="sr-only">{{addPostForm.subject.$valid ? '(success)' : '(error)'}}</span>
            </div>
        </div>
        
        <!-- Description -->
        <div class="form-group" ng-class="getValidationClass(addPostForm.description.$valid, addPostForm.description.$dirty)">
            <label class="control-label col-sm-2" for="description">Description:</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="description" name="description" maxlength="200" aria-describedby="descriptionStatus" placeholder="Description" required ng-model="newPost.description" />
	            <span ng-show="addPostForm.description.$dirty"
	                ng-class="addPostForm.description.$valid ? 'glyphicon glyphicon-ok form-control-feedback' : 'glyphicon glyphicon-remove form-control-feedback'" aria-hidden="true"></span>
	            <span ng-show="addPostForm.description.$dirty" id="descriptionStatus"
	                class="sr-only">{{addPostForm.description.$valid ? '(success)' : '(error)'}}</span>
            </div>
        </div>
        
        <!-- Body -->
        <div class="form-group" ng-class="getValidationClass(addPostForm.body.$valid, addPostForm.body.$dirty)">
            <label class="control-label col-sm-2" for="body">Text:</label>
            <div class="col-sm-10">
                <textarea type="text" class="form-control" id="body" name="body" rows="10" maxlength="3000" aria-describedby="bodyStatus" placeholder="Text" required ng-model="newPost.body"></textarea>
	            <span ng-show="addPostForm.body.$dirty"
	                ng-class="addPostForm.body.$valid ? 'glyphicon glyphicon-ok form-control-feedback' : 'glyphicon glyphicon-remove form-control-feedback'" aria-hidden="true"></span>
	            <span ng-show="addPostForm.body.$dirty" id="bodyStatus"
	                class="sr-only">{{addPostForm.body.$valid ? '(success)' : '(error)'}}</span>
            </div>
        </div>
        
        <!-- Add Button -->
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-default" ng-disabled="addPostForm.$invalid">Add</button>
            </div>
        </div>
    </form>
</div>